<link rel="stylesheet" type="text/css" href="css/dashboard/device.css">
<toaster-container></toaster-container>

<div class="wrapper wrapper-content animated fadeInRight">
	<div class="row">
		<div class="col-md-8 col-centered">
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h5>Thiết bị điện
						<small>Quản lý thiết bị điện</small>
					</h5>
				</div>
				<div class="ibox-content">

					<table class="footable table table-stripped toggle-arrow-tiny dev-table">
						<thead>
						<tr>
							<th data-toggle="true">Tên</th>
							<th data-sort-ignore="true" class="cat-select" data-hide="phone">Loại</th>
							<th data-sort-ignore="true" class="dev-action">Hành động</th>
							<th data-hide="all">Thông tin thiết bị</th>
						</tr>
						</thead>
						<tbody>
						<tr ng-repeat="dev in deviceData">
							<td data-value="{{dev.$new.name}}" class="dev-name"
							    ng-class="{'has-warning': dev.name != dev.$new.name}">
								<div style="margin-left: 20px">
									<input type="text" placeholder="Tên thiết bị"
									       class="form-control" ng-model="dev.$new.name">
								</div>
							</td>
							<td class="cat-select"
							    ng-class="{'has-warning': dev.category.id != dev.$new.category.id}">
								<div class="btn-group btn-block" uib-dropdown>
									<button type="button" uib-dropdown-toggle
									        class="btn btn-default btn-outline dropdown-toggle btn-block btn-nofocus">
										<img src="{{dev.$new.category.image}}"
										     alt="{{dev.$new.category.name}}" class="cat-image">
										<span class="cat-name">
											{{dev.$new.category.name}}
										</span> <span class="caret"></span>
									</button>
									<ul class="dropdown-menu" role="menu">
										<li ng-repeat="cat in categoryData">
											<a href="" ng-click="categoryChange(dev.$new, cat)">
												<img src="{{cat.image}}" alt="{{cat.name}}" class="cat-select">
												<span class="cat-name">{{cat.name}}</span>
											</a>
										</li>
									</ul>
								</div>
							</td>
							<td class="dev-action">
								<a title="Lưu" tooltip-placement="top" tooltip="Lưu thay đổi"
								   ng-click="update(dev)" ng-show="isChanged(dev)"
								   class="animate-fade">
									<i class="fa fa-check fa-2x text-navy"></i>
								</a>
								<a title="Reset" tooltip-placement="top" tooltip="Làm lại"
								   ng-click="clear(dev)" ng-show="isChanged(dev)"
								   class="animate-fade">
									<i class="fa fa-eraser"></i>
								</a>
								<a title="Xóa" tooltip-placement="top" tooltip="Xóa thiết bị"
								   ng-click="delete(dev)">
									<i class="fa fa-remove text-danger"></i>
								</a>
							</td>
							<td>
								<div>
									<h1>Test</h1>
								</div>
							</td>
						</tr>
						</tbody>
					</table>

					<table class="table">
						<tbody>
						<tr>
							<td data-value="{{devNew.name}}" class="dev-name"
							    ng-class="{'has-warning': devNew.name != ''}">
								<div style="margin-left: 20px">
									<input type="text" placeholder="Tên thiết bị"
									       class="form-control" ng-model="devNew.name">
								</div>
							</td>
							<td class="cat-select hidden-xs">
								<div class="btn-group btn-block" uib-dropdown>
									<button type="button" uib-dropdown-toggle
									        class="btn btn-default btn-outline dropdown-toggle btn-block btn-nofocus">
										<img src="{{devNew.category.image}}"
										     alt="{{devNew.category.name}}" class="cat-image">
										<span class="cat-name">
											{{devNew.category.name}}
										</span> <span class="caret"></span>
									</button>
									<ul class="dropdown-menu" role="menu">
										<li ng-repeat="cat in categoryData">
											<a href="" ng-click="categoryChange(devNew, cat)">
												<img src="{{cat.image}}" alt="{{cat.name}}" class="cat-select">
												<span class="cat-name">{{cat.name}}</span>
											</a>
										</li>
									</ul>
								</div>
							</td>
							<td class="dev-action">
								<a title="Tạo" tooltip-placement="top" tooltip="Tạo thiết bị"
								   ng-click="create()" ng-show="devNew.name != ''"
								   class="animate-fade">
									<i class="fa fa-check fa-2x text-navy"></i>
								</a>
								<a title="Reset" tooltip-placement="top" tooltip="Làm lại"
								   ng-click="clearNewDev()" ng-show="devNew.name != ''"
								   class="animate-fade">
									<i class="fa fa-eraser"></i>
								</a>
							</td>
						</tr>
						</tbody>
					</table>

				</div>
			</div>
		</div>
	</div>

	<div class="row">
		<div class="col-all-8">
			<ul class="dropdown-menu cat-select sample-cat-select">
				<li ng-repeat="cat in categoryData">
					<a href="">
						<img src="{{cat.image}}"
						     alt="{{cat.name}}" class="cat-select">
						<span class="cat-name">{{cat.name}}</span>
					</a>
				</li>
			</ul>
		</div>
	</div>
</div>